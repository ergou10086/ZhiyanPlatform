â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘     Apifox è‡ªåŠ¨Tokené…ç½® - å¿«é€Ÿå‚è€ƒå¡ç‰‡                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬1æ­¥ï¼šåœ¨ç™»å½•æ¥å£æ·»åŠ åç½®è„šæœ¬                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ä½ç½®ï¼šç”¨æˆ·ç™»å½•æ¥å£ â†’ åç½®æ“ä½œ â†’ è„šæœ¬
  
  è„šæœ¬å†…å®¹ï¼š
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ if (pm.response.code === 200) {            â”‚
  â”‚   var data = pm.response.json().data;      â”‚
  â”‚   pm.environment.set(                      â”‚
  â”‚     "accessToken",                         â”‚
  â”‚     data.accessToken                       â”‚
  â”‚   );                                       â”‚
  â”‚   console.log("âœ… Tokenå·²ä¿å­˜");           â”‚
  â”‚ }                                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬2æ­¥ï¼šåœ¨å…¶ä»–æ¥å£çš„Headerä¸­å¼•ç”¨Token                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  ä½ç½®ï¼šä»»æ„æ¥å£ â†’ Headers æ ‡ç­¾é¡µ
  
  æ·»åŠ Headerï¼š
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Key:   Authorization                       â”‚
  â”‚ Value: Bearer {{accessToken}}              â”‚
  â”‚ âœ“ å¯ç”¨                                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¬¬3æ­¥ï¼šæµ‹è¯•                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  1ï¸âƒ£ è°ƒç”¨ç™»å½•æ¥å£
     â†’ æŸ¥çœ‹æ§åˆ¶å°è¾“å‡º "âœ… Tokenå·²ä¿å­˜"
  
  2ï¸âƒ£ æŸ¥çœ‹ç¯å¢ƒå˜é‡
     â†’ accessToken åº”è¯¥æœ‰å€¼
  
  3ï¸âƒ£ è°ƒç”¨å…¶ä»–éœ€è¦è®¤è¯çš„æ¥å£
     â†’ åº”è¯¥æˆåŠŸï¼ˆè‡ªåŠ¨æºå¸¦äº†Tokenï¼‰


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  å®Œæ•´ç‰ˆè„šæœ¬ï¼ˆå¤åˆ¶ç²˜è´´åˆ°ç™»å½•æ¥å£çš„åç½®è„šæœ¬ä¸­ï¼‰              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

if (pm.response.code === 200) {
    try {
        var jsonData = pm.response.json();
        if (jsonData.code === 200 && jsonData.data) {
            // ä¿å­˜Token
            pm.environment.set("accessToken", jsonData.data.accessToken);
            
            // ä¿å­˜ç”¨æˆ·ä¿¡æ¯ï¼ˆå¯é€‰ï¼‰
            if (jsonData.data.user) {
                pm.environment.set("userId", jsonData.data.user.id);
                pm.environment.set("userName", jsonData.data.user.name);
            }
            
            console.log("âœ… ç™»å½•æˆåŠŸï¼Tokenå·²è‡ªåŠ¨ä¿å­˜");
        }
    } catch (e) {
        console.error("âŒ è„šæœ¬æ‰§è¡Œå¤±è´¥:", e);
    }
}


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  å¸¸è§é—®é¢˜                                                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Q: Tokenæ²¡æœ‰è‡ªåŠ¨ä¿å­˜ï¼Ÿ
A: æ£€æŸ¥åç½®è„šæœ¬æ˜¯å¦æ·»åŠ æ­£ç¡®ï¼ŒæŸ¥çœ‹æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯

Q: å…¶ä»–æ¥å£è¿”å›401ï¼Ÿ
A: æ£€æŸ¥Headeræ˜¯å¦æ·»åŠ äº† Authorization: Bearer {{accessToken}}

Q: Tokenè¿‡æœŸäº†ï¼Ÿ
A: é‡æ–°è°ƒç”¨ç™»å½•æ¥å£ï¼ŒTokenä¼šè‡ªåŠ¨æ›´æ–°


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ‰ é…ç½®å®Œæˆåçš„æ•ˆæœ                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ç™»å½•1æ¬¡ â†’ Tokenè‡ªåŠ¨ä¿å­˜ â†’ æ‰€æœ‰æ¥å£è‡ªåŠ¨æºå¸¦
  
  æ— éœ€æ‰‹åŠ¨å¤åˆ¶ç²˜è´´Tokenï¼

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

