# 开发环境（本地环境）

# bootstrap.yaml - 应用启动核心配置（优先加载）
spring:
  # 1. 应用基础信息
  application:
    name: zhiyan-project

  # 2. 配置中心核心配置（Nacos 连接信息，启动必需）
  cloud:
    nacos:
      # Nacos 配置中心配置（优先初始化，用于拉取后续配置）
      config:
        server-addr: 127.0.0.1:8848
        namespace: 3936229d-c8b3-4947-9192-6b984dca44bf
        group: DEFAULT_GROUP
        file-extension: yaml
        # Spring Cloud Alibaba 会自动加载以下配置文件：
        # 1. zhiyan-project.yaml (根据 application.name + file-extension)
        # 2. zhiyan-project-${profile}.yaml (如果配置了 spring.profiles.active)

        # 加载redis配置
        shared-configs:
          - data-id: zhiyan-common-redis-dev.yaml
            group: DEFAULT_GROUP
            refresh: true
          - data-id: zhiyan-common-oss-dev.yaml
            group: DEFAULT_GROUP
            refresh: true

      # Nacos 服务发现配置（启动阶段可选，但建议提前配置）
      discovery:
        server-addr: 127.0.0.1:8848
        namespace: 3936229d-c8b3-4947-9192-6b984dca44bf
        group: DEFAULT_GROUP

  # 3. 配置导入规则（简化配置中心引入，Spring Boot 2.4+ 推荐）
  config:
    import:
      - nacos:zhiyan-project-dev.yaml?refresh=true  # 导入 Nacos 中当前应用的核心配置
      # 可选：导入公共配置（如全局日志、通用常量，需在 Nacos 提前创建）
      # - nacos:zhiyan-common.yaml?group=DEFAULT_GROUP&refresh=true

# 日志基础配置（启动阶段日志，避免日志配置加载延迟）
logging:
  level:
    root: INFO
    org.springframework.cloud: INFO   # 关闭配置加载的详细日志
    com.alibaba.nacos: WARN           # 关闭 Nacos 客户端频繁日志
    com.alibaba.nacos.shaded.io.grpc: WARN  # 关闭 gRPC 调试日志
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [BOOTSTRAP] %-5level %logger{36} - %msg%n"







