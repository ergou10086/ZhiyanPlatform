{
  "info": {
    "name": "智研平台 - 任务管理接口",
    "description": "任务管理相关接口，包括任务创建、分配、状态更新、看板视图、查询统计等功能",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "智研平台"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{jwt_token}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "任务管理",
      "item": [
        {
          "name": "1. 创建任务",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"projectId\": \"{{project_id}}\",\n  \"title\": \"完成数据库设计\",\n  \"description\": \"设计用户表、项目表、任务表的数据库结构\",\n  \"priority\": \"HIGH\",\n  \"assigneeIds\": [1002, 1003],\n  \"dueDate\": \"2025-10-30\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/projects/tasks",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks"]
            },
            "description": "在项目中创建新任务\n\n请求体字段：\n- projectId: 项目ID（必填）\n- title: 任务标题（必填）\n- description: 任务描述\n- priority: 优先级(HIGH/MEDIUM/LOW)\n- assigneeIds: 执行者ID列表\n- dueDate: 截止日期(YYYY-MM-DD)"
          },
          "response": []
        },
        {
          "name": "2. 更新任务",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"完成数据库设计和实现\",\n  \"status\": \"IN_PROGRESS\",\n  \"priority\": \"HIGH\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/{{task_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "{{task_id}}"]
            },
            "description": "更新任务的标题、描述、状态、优先级等信息\n\n所有字段都是可选的，只更新提供的字段"
          },
          "response": []
        },
        {
          "name": "3. 删除任务",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/{{task_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "{{task_id}}"]
            },
            "description": "软删除任务，仅任务创建者或项目负责人可操作"
          },
          "response": []
        },
        {
          "name": "4. 更新任务状态",
          "request": {
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/{{task_id}}/status?status=DONE",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "{{task_id}}", "status"],
              "query": [
                {
                  "key": "status",
                  "value": "DONE",
                  "description": "新状态(TODO/IN_PROGRESS/BLOCKED/DONE)"
                }
              ]
            },
            "description": "更新任务的状态（在任务看板拖拽时调用）"
          },
          "response": []
        },
        {
          "name": "5. 分配任务",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "[1002, 1003]",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/{{task_id}}/assign",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "{{task_id}}", "assign"]
            },
            "description": "将任务分配给项目成员\n\n请求体为执行者ID列表"
          },
          "response": []
        }
      ]
    },
    {
      "name": "任务查询",
      "item": [
        {
          "name": "6. 获取任务详情",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/{{task_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "{{task_id}}"]
            },
            "description": "获取任务的详细信息，包括执行者、创建者等"
          },
          "response": []
        },
        {
          "name": "7. 获取项目任务看板",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}/board",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}", "board"]
            },
            "description": "获取项目的任务看板数据，按状态分组（TODO/IN_PROGRESS/BLOCKED/DONE）"
          },
          "response": []
        },
        {
          "name": "8. 获取项目任务列表",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}?page=0&size=20&sortBy=createdAt&direction=DESC",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                },
                {
                  "key": "sortBy",
                  "value": "createdAt",
                  "description": "排序字段"
                },
                {
                  "key": "direction",
                  "value": "DESC",
                  "description": "排序方向(ASC/DESC)"
                }
              ]
            },
            "description": "分页获取项目的所有任务"
          },
          "response": []
        },
        {
          "name": "9. 按状态获取任务",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}/status/TODO?page=0&size=20",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}", "status", "TODO"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "根据任务状态筛选项目任务 (TODO/IN_PROGRESS/BLOCKED/DONE)"
          },
          "response": []
        },
        {
          "name": "10. 按优先级获取任务",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}/priority/HIGH?page=0&size=20",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}", "priority", "HIGH"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "根据任务优先级筛选项目任务 (HIGH/MEDIUM/LOW)"
          },
          "response": []
        },
        {
          "name": "11. 获取我的任务",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/my-assigned?page=0&size=20",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "my-assigned"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "获取分配给当前用户的所有任务"
          },
          "response": []
        },
        {
          "name": "12. 获取我创建的任务",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/my-created?page=0&size=20",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "my-created"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "获取当前用户创建的所有任务"
          },
          "response": []
        },
        {
          "name": "13. 搜索任务",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}/search?keyword=数据库&page=0&size=20",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}", "search"],
              "query": [
                {
                  "key": "keyword",
                  "value": "数据库",
                  "description": "搜索关键词（必填）"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "根据关键词搜索项目任务（标题或描述）"
          },
          "response": []
        },
        {
          "name": "14. 获取即将到期的任务",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}/upcoming?days=7&page=0&size=20",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}", "upcoming"],
              "query": [
                {
                  "key": "days",
                  "value": "7",
                  "description": "未来天数"
                },
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "获取指定天数内即将到期的任务"
          },
          "response": []
        },
        {
          "name": "15. 获取已逾期的任务",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}/overdue?page=0&size=20",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}", "overdue"],
              "query": [
                {
                  "key": "page",
                  "value": "0"
                },
                {
                  "key": "size",
                  "value": "20"
                }
              ]
            },
            "description": "获取项目中已逾期且未完成的任务"
          },
          "response": []
        }
      ]
    },
    {
      "name": "统计",
      "item": [
        {
          "name": "16. 统计项目任务数量",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}/count",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}", "count"]
            },
            "description": "统计项目中的任务总数"
          },
          "response": []
        },
        {
          "name": "17. 按状态统计任务",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}/count/status/TODO",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}", "count", "status", "TODO"]
            },
            "description": "统计项目中指定状态的任务数量 (TODO/IN_PROGRESS/BLOCKED/DONE)"
          },
          "response": []
        },
        {
          "name": "18. 统计逾期任务",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/projects/tasks/projects/{{project_id}}/count/overdue",
              "host": ["{{base_url}}"],
              "path": ["api", "projects", "tasks", "projects", "{{project_id}}", "count", "overdue"]
            },
            "description": "统计项目中已逾期的任务数量"
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8080",
      "type": "string"
    },
    {
      "key": "jwt_token",
      "value": "your_jwt_token_here",
      "type": "string"
    },
    {
      "key": "project_id",
      "value": "1234567890123456789",
      "type": "string"
    },
    {
      "key": "task_id",
      "value": "3234567890123456789",
      "type": "string"
    }
  ]
}

